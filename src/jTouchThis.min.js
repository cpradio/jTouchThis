function initSparkles(){var t,e,i,n;for(t=0;sparkles>t;t++)e=createDiv(3,3),e.style.visibility="hidden",e.style.zIndex="999",document.body.appendChild(tiny[t]=e),starv[t]=0,tinyv[t]=0,e=createDiv(5,5),e.style.backgroundColor="transparent",e.style.visibility="hidden",e.style.zIndex="999",i=createDiv(1,5),n=createDiv(5,1),e.appendChild(i),e.appendChild(n),i.style.top="2px",i.style.left="0px",n.style.top="0px",n.style.left="2px",document.body.appendChild(star[t]=e);set_width(),sparkle()}function sparkle(){var t;if(Math.abs(sparkle_x-ox)>1||Math.abs(sparkle_y-oy)>1)for(ox=sparkle_x,oy=sparkle_y,t=0;sparkles>t;t++)if(!starv[t]){star[t].style.left=(starx[t]=sparkle_x)+"px",star[t].style.top=(stary[t]=sparkle_y+1)+"px",star[t].style.clip="rect(0px, 5px, 5px, 0px)",star[t].childNodes[0].style.backgroundColor=star[t].childNodes[1].style.backgroundColor="random"==colour?newColour():colour,star[t].style.visibility="visible",starv[t]=50;break}for(t=0;sparkles>t;t++)starv[t]&&update_star(t),tinyv[t]&&update_tiny(t);setTimeout(sparkle,40)}function update_star(t){if(25==--starv[t]&&(star[t].style.clip="rect(1px, 4px, 4px, 1px)"),starv[t]){if(stary[t]+=1+3*Math.random(),starx[t]+=(t%5-2)/5,!(stary[t]<shigh+sdown))return star[t].style.visibility="hidden",void(starv[t]=0);star[t].style.top=stary[t]+"px",star[t].style.left=starx[t]+"px"}else tinyv[t]=50,tiny[t].style.top=(tinyy[t]=stary[t])+"px",tiny[t].style.left=(tinyx[t]=starx[t])+"px",tiny[t].style.width="2px",tiny[t].style.height="2px",tiny[t].style.backgroundColor=star[t].childNodes[0].style.backgroundColor,star[t].style.visibility="hidden",tiny[t].style.visibility="visible"}function update_tiny(t){if(25==--tinyv[t]&&(tiny[t].style.width="1px",tiny[t].style.height="1px"),tinyv[t]){if(tinyy[t]+=1+3*Math.random(),tinyx[t]+=(t%5-2)/5,!(tinyy[t]<shigh+sdown))return tiny[t].style.visibility="hidden",void(tinyv[t]=0);tiny[t].style.top=tinyy[t]+"px",tiny[t].style.left=tinyx[t]+"px"}else tiny[t].style.visibility="hidden"}function mouse(t){t?(sparkle_y=t.pageY,sparkle_x=t.pageX):(set_scroll(),sparkle_y=event.y+sdown,sparkle_x=event.x+sleft)}function set_scroll(){"number"==typeof self.pageYOffset?(sdown=self.pageYOffset,sleft=self.pageXOffset):document.body&&(document.body.scrollTop||document.body.scrollLeft)?(sdown=document.body.scrollTop,sleft=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)?(sleft=document.documentElement.scrollLeft,sdown=document.documentElement.scrollTop):(sdown=0,sleft=0)}function set_width(){var t=999999,e=999999;document.documentElement&&document.documentElement.clientWidth&&(document.documentElement.clientWidth>0&&(t=document.documentElement.clientWidth),document.documentElement.clientHeight>0&&(e=document.documentElement.clientHeight)),"number"==typeof self.innerWidth&&self.innerWidth&&(self.innerWidth>0&&self.innerWidth<t&&(t=self.innerWidth),self.innerHeight>0&&self.innerHeight<e&&(e=self.innerHeight)),document.body.clientWidth&&(document.body.clientWidth>0&&document.body.clientWidth<t&&(t=document.body.clientWidth),document.body.clientHeight>0&&document.body.clientHeight<e&&(e=document.body.clientHeight)),(999999==t||999999==e)&&(t=800,e=600),swide=t,shigh=e}function createDiv(t,e){var i=document.createElement("div");return i.style.position="absolute",i.style.height=t+"px",i.style.width=e+"px",i.style.overflow="hidden",i}function newColour(){var t=[];return t[0]=255,t[1]=Math.floor(256*Math.random()),t[2]=Math.floor(Math.random()*(256-t[1]/2)),t.sort(function(){return.5-Math.random()}),"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function moveimage(t){getidleft(t)+IDs[t].W+IDs[t].Xstep>=wind_w+getscrollx()&&(IDs[t].Xdir=!1),getidleft(t)-IDs[t].Xstep<=getscrollx()&&(IDs[t].Xdir=!0),getidtop(t)+IDs[t].H+IDs[t].Ystep>=wind_h+getscrolly()&&(IDs[t].Ydir=!1),getidtop(t)-IDs[t].Ystep<=getscrolly()&&(IDs[t].Ydir=!0),moveidby(t,IDs[t].Xdir?IDs[t].Xstep:-IDs[t].Xstep,IDs[t].Ydir?IDs[t].Ystep:-IDs[t].Ystep)}function getnewprops(t){IDs[t].Ydir=Math.floor(2*Math.random())>0,IDs[t].Xdir=Math.floor(2*Math.random())>0,IDs[t].Ystep=Math.ceil(Math.random()*Ymax),IDs[t].Xstep=Math.ceil(Math.random()*Xmax),setTimeout("getnewprops("+t+")",Math.floor(Math.random()*Tmax))}function getscrollx(){return NS4||NS6?window.pageXOffset:IE4?document.body.scrollLeft:void 0}function getscrolly(){return NS4||NS6?window.pageYOffset:IE4?document.body.scrollTop:void 0}function getid(t){return NS4?document.layers[t]:IE4?document.all[t]:NS6?document.getElementById(t):void 0}function moveidto(t,e,i){NS4&&IDs[t].moveTo(e,i),(IE4||NS6)&&(IDs[t].style.left=e+"px",IDs[t].style.top=i+"px")}function getidleft(t){return NS4?IDs[t].left:IE4||NS6?parseInt(IDs[t].style.left):void 0}function getidtop(t){return NS4?IDs[t].top:IE4||NS6?parseInt(IDs[t].style.top):void 0}function moveidby(t,e,i){NS4&&IDs[t].moveBy(e,i),(IE4||NS6)&&(IDs[t].style.left=getidleft(t)+e+"px",IDs[t].style.top=getidtop(t)+i+"px")}function getwindowwidth(){return NS4||NS6?window.innerWidth:IE4?document.body.clientWidth:void 0}function getwindowheight(){return NS4||NS6?window.innerHeight:IE4?document.body.clientHeight:void 0}function init(){for(initSparkles(),wind_w=getwindowwidth(),wind_h=getwindowheight(),i=0;i<floatimages.length;i++)IDs[i]=getid("pic"+i),NS4&&(IDs[i].W=IDs[i].document.images["p"+i].width,IDs[i].H=IDs[i].document.images["p"+i].height),(NS6||IE4)&&(IDs[i].W=document.images["p"+i].width,IDs[i].H=document.images["p"+i].height),getnewprops(i),moveidto(i,Math.floor(Math.random()*(wind_w-IDs[i].W)),Math.floor(Math.random()*(wind_h-IDs[i].H))),NS4&&(IDs[i].visibility="show"),(IE4||NS6)&&(IDs[i].style.visibility="visible"),startfly=setInterval("moveimage("+i+")",Math.floor(100*Math.random())+100)}function hidebutterfly(){for(i=0;i<floatimages.length;i++)IE4?eval("document.all.pic"+i+".style.visibility='hidden'"):NS6?document.getElementById("pic"+i).style.visibility="hidden":NS4&&eval("document.pic"+i+".visibility='hide'"),clearInterval(startfly)}var colour="random",sparkles=50,sparkle_x=ox=400,sparkle_y=oy=300,swide=800,shigh=600,sleft=sdown=0,tiny=[],star=[],starv=[],starx=[],stary=[],tinyx=[],tinyy=[],tinyv=[];document.onmousemove=mouse,window.onscroll=set_scroll,window.onresize=set_width;var Ymax=8,Xmax=8,Tmax=1e4,floatimages=new Array;floatimages[0]="https://raw.githubusercontent.com/cpradio/jTouchThis/master/images/message-1.gif",floatimages[1]="https://raw.githubusercontent.com/cpradio/jTouchThis/master/images/message-2.png",floatimages[2]="https://raw.githubusercontent.com/cpradio/jTouchThis/master/images/message-3.gif";var NS4=navigator.appName.indexOf("Netscape")>=0&&parseFloat(navigator.appVersion)>=4&&parseFloat(navigator.appVersion)<5?!0:!1,IE4=document.all?!0:!1,NS6=parseFloat(navigator.appVersion)>=5&&navigator.appName.indexOf("Netscape")>=0?!0:!1,wind_w,wind_h,t="",IDs=new Array;for(i=0;i<floatimages.length;i++)t+=NS4?'<layer name="pic'+i+'" visibility="hide" width="10" height="10"><a href="javascript:hidebutterfly()">':'<div id="pic'+i+'" style="position:absolute; visibility:hidden;width:10px; height:10px"><a href="javascript:hidebutterfly()">',t+='<img src="'+floatimages[i]+'" name="p'+i+'" border="0">',t+=NS4?"</a></layer>":"</a></div>";document.body.innerHTML=t+document.body.innerHTML,(NS4||NS6||IE4)&&(window.onload=init,window.onresize=function(){wind_w=getwindowwidth(),wind_h=getwindowheight()});